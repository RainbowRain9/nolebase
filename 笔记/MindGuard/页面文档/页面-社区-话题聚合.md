# 页面：话题聚合（路径：miniprogram/packages/community/topic/index）

## 1. 页面目标与角色
- 按话题聚合展示帖子，支持订阅与筛选；面向树洞浏览用户；主流程：树洞。

## 2. 入口与去向（导航）
- 入口来源：post-detail 点击话题；树洞页话题tag。
- 去向页面：post-detail `?postId=xxx`；post-editor 以话题预选 `?topic=xxx`。
- 路由示例：`wx.navigateTo({ url: '/packages/community/topic/index?topic=exam' })`
- 分包关系：packages/community；预加载见 treehole/today。

## 3. 关键组件与交互
- 组件清单：话题头卡、帖子列表、筛选器（时间/热度/风险过滤）、订阅按钮。
- 交互描述：下拉刷新、上拉分页、订阅/取消订阅；弱网列表降级。
- 无障碍与文案：话题说明辅助文本；订阅结果明确反馈。

## 4. 数据契约与接口
- 入参：`topic: string`
- 出参：`posts[]`
- 集合：posts、comments、events（见数据库文档）
- 接口占位：docs/接口占位文档.md

## 5. 埋点与观测
- `pv_treehole_topic`
- `clk_topic_subscribe`（on/off）
- `exp_topic_first_paint`

## 6. 异常与边界
- 空态：该话题暂无内容 → 引导去发帖。
- 性能：列表分片、图片懒加载。

## 7. 验收清单（DoD）
- [ ] 话题聚合展示与筛选
- [ ] 订阅/取消订阅成功反馈
- [ ] 分页与懒加载稳定
- [ ] 埋点与首屏完成

## 8. 关联文档
- 功能：docs/功能文档/功能-树洞抱抱与互动反馈.md

## 9. 变更记录
- 2025-09-22 by Codex：首次创建

