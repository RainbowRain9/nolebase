# 页面：预约中心（路径：miniprogram/packages/community/booking/index）

## 1. 页面目标与角色
- 提供活动/资源的预约与日程安排；主流程：树洞/我的。

## 2. 入口与去向（导航）
- 入口来源：活动广场报名；资源广场预约。
- 去向页面：consultation（若为咨询预约）；message（预约消息提醒）。
- 路由示例：`wx.navigateTo({ url: '/packages/community/booking/index?targetId=xxx&type=activity' })`
- 分包关系：community；预加载见 today/treehole。

## 3. 关键组件与交互
- 组件清单：预约表单、时间选择器、确认弹窗、Toast、进度条。
- 交互：提交后生成预约记录；与系统日历集成（可选）。
- 无障碍与文案：清晰说明隐私与变更规则。

## 4. 数据契约与接口
- 入参：`type`(activity/resource/consultation), `targetId`
- 出参：`booking_id`
- 集合：docs/数据库/集合-用户.events.md（预约事件），资源相关见 docs/数据库/集合-资源地图.resources.md
- 接口：docs/接口占位文档.md

## 5. 埋点与观测
- `pv_booking`
- `act_booking_submit` 参数：`type`, `target_id`, `slot`
- `exp_booking_first_paint`

## 6. 异常与边界
- 冲突检测：时间段冲突提示与替代建议。
- 失败重试：离线缓存，恢复后补提。

## 7. 验收清单（DoD）
- [ ] 表单校验与提交成功
- [ ] 冲突检测/变更取消
- [ ] 弱网与错误重试
- [ ] 埋点齐全

## 8. 关联文档
- 功能：docs/功能文档/功能-资源推送系统.md

## 9. 变更记录
- 2025-09-22 by Codex：首次创建

