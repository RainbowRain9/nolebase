# 页面：搜索（路径：miniprogram/packages/community/search/index）

## 1. 页面目标与角色
- 提供帖子/话题/资源的跨域搜索；主流程：树洞。

## 2. 入口与去向（导航）
- 入口：树洞页搜索框；资源广场搜索入口。
- 去向：post-detail/topic/resources。
- 路由：`wx.navigateTo({ url: '/packages/community/search/index?q=xxx' })`
- 分包：community；预加载见 today/treehole。

## 3. 关键组件与交互
- 搜索框（历史/推荐）、结果分栏、筛选器、空态。
- 交互：输入联想、点击结果跳转、清空历史。

## 4. 数据契约与接口
- 接口占位：docs/接口占位文档.md（搜索）
- 集合：posts, resources（参考数据库文档）

## 5. 埋点与观测
- `pv_search`
- `act_search_submit`（keyword, scope）
- `clk_search_result`（type, id）

## 6. 异常与边界
- 空态：无结果 → 建议话题/资源。
- 性能：联想请求节流；结果分片。

## 7. 验收清单（DoD）
- [ ] 历史/推荐/联想
- [ ] 结果跳转与空态
- [ ] 埋点齐全

## 8. 关联文档
- 功能：docs/功能文档/功能-树洞风险提示与温和守护.md

## 9. 变更记录
- 2025-09-22 by Codex：首次创建

