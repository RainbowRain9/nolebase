# 任务页高保真样式规范（来源 × 状态 × 统计）

> 参考《tab页设计蓝图》《清单任务管理》《任务卡执行闭环》整理视觉与交互规格，支撑任务 Tab 的开发与验收。

## 1. 设计定位
- **页面使命**：集中展示所有行动任务，提供来源/情绪筛选、番茄计时、批量操作与统计概览，是行为闭环的主看板。
- **体验关键词**：可控、进度感、易筛选。通过卡片化结构与醒目徽章帮助快速识别优先级。
- **视觉策略**：基底 `--color-ink-25`，卡片白底＋描边区隔；来源徽章使用不同色盘（AI/社区/真人/自建），统计卡使用柔和渐变凸显概览。

## 2. 布局结构
```
┌──────────────────────────────────────────┐
│ 顶部筛选区：来源 Chip + 情绪标签下拉 + 搜索框           │
├──────────────────────────────────────────┤
│ 任务统计卡（进行中/完成/延期/跳过 + 小型柱状图）         │
├──────────────────────────────────────────┤
│ 任务列表（按状态分组）                                 │
│   ├─ 进行中                                           │
│   ├─ 即将到期                                         │
│   ├─ 延期                                             │
│   ├─ 已完成                                           │
│   └─ 已跳过                                           │
├──────────────────────────────────────────┤
│ 底部批量操作栏（多选出现）                             │
└──────────────────────────────────────────┘
上拖底部把手 → 展开数据抽屉（来源/情绪完成度、真人协同待办）
```

## 3. 模块详解
### 3.1 顶部筛选区 `<FilterBar>`
- 背景白色，阴影 `0 6px 20px rgba(15,20,26,0.05)`。
- 来源 Chip：默认灰 100 背景、灰 600 文本；选中填充品牌蓝或来源专属色（AI=Brand、社区=Success、真人=Warning、自建=Ink）。
- 情绪标签下拉：使用下拉列表组件，选中后在 Chip 区展示可移除标签。
- 搜索框：圆角 999，左侧放大镜；支持关键词模糊匹配任务标题、来源说明。

### 3.2 任务统计卡 `<TaskSummary>`
- 宽 343px、高 120px，渐变背景（Brand 400 → Mint 300），圆角 20px。
- 内容：左侧大数字（进行中/全部），右侧小柱状图展示完成/延期趋势；底部按钮“查看统计”打开数据抽屉。

### 3.3 任务卡 `<TaskCard>`
- 宽 343px，圆角 16px，描边 1px #E2E8F0，阴影 `0 12px 28px rgba(15,20,26,0.05)`。
- Header：来源徽章、情绪类别标签、截止时间；延期任务加红色描边。
- Body：标题 16px/700/#2C3640，描述 12px/500/#5A6672；可显示随笔或树洞来源链接。
- Footer：番茄/完成/跳过按钮（主要 CTA 绿色、次要灰描边）；右上角状态胶囊（进行中/已完成/延期等）。

### 3.4 批量操作栏 `<BulkActionBar>`
- 当至少选中一项出现，背景 #FFFFFF，阴影 `0 4px 20px rgba(15,20,26,0.16)`。
- 按钮：延期、设置提醒、导出、取消；主按钮采用品牌蓝填充。

### 3.5 数据抽屉 `<StatsDrawer>`
- 拖拽出现，顶部圆角 24px；包含来源完成度柱状图、情绪类别折线图、真人协同待确认列表。
- 列表项支持跳转：点击来源带筛选参数返回任务列表，点击真人协同进入授权/私聊页。

## 4. 交互要点
- Chip 支持多选；超过 3 个来源时显示“已选 X 项”徽标。
- 任务卡主按钮按压态缩放 0.96，并更新状态徽章及统计卡数据。
- 延期/跳过必须选择原因（下拉 + 自定义输入）。
- 数据抽屉可通过上拖或点击“查看统计”唤起，下滑或点击遮罩关闭。
- 多选状态下滚动列表不会隐藏批量操作栏，避免误触。

## 5. 数据绑定 & 埋点对齐
| 模块 | 数据来源 | 埋点 |
| ---- | -------- | ---- |
| 筛选区 | tasks/filters | `tasks_filter_change`（来源/情绪/搜索） |
| 任务统计卡 | tasks/summary | `tasks_summary_view`（点击查看统计） |
| 任务卡 | tasks/list | `task_status_update`、`task_review_submit`、`task_bulk_action` |
| 批量操作栏 | tasks/bulk | `task_bulk_action`（延期/提醒/导出） |
| 数据抽屉 | tasks/stats | `tasks_drawer_open`、`tasks_drawer_source_click` |

---

该规范支持任务 Tab 的视觉实现与交互验收，与《清单任务管理》《任务卡执行闭环》功能说明保持一致。
