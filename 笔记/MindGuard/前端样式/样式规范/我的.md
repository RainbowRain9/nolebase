# 我的综合样式规范（成长 × 边界 × 资源）

> 基于《功能扩展方案》《社区导向整体开发方案》《tab页设计蓝图》《色彩系统》汇总的个人中心设计与实现标准。

## 1. 设计定位
- **角色**：个人成长与隐私管理的控制台，提供周报、徽章、授权、资源导航。
- **体验目标**：沉稳可信、信息分区清晰，突出“守护感”。
- **视觉基调**：品牌蓝 + Mint 点缀，背景 `--color-ink-0`，大面积使用白底卡片与柔和渐变。

## 2. 页面结构
```
┌──────────────────────────────────────────┐
│ 顶部欢迎卡：头像/昵称/心情小问候 + 周报入口
├──────────────────────────────────────────┤
│ 护心周报 Banner：情绪趋势、任务完成度、下一步建议
├──────────────────────────────────────────┤
│ 徽章与成就：水平滑动卡片
├──────────────────────────────────────────┤
│ 隐私与授权中心：授权列表 + 审计记录入口
├──────────────────────────────────────────┤
│ 资源地图：校内/校外资源栅格 + 联系方式
└──────────────────────────────────────────┘
底部仍保留 Ask FAB & SOS 浮标
```

## 3. 模块详解
### 3.1 顶部欢迎卡 `<ProfileHero>`
- 背景渐变 `linear-gradient(180deg,#EEF5FF,#FFFFFF)`，圆角 24px。
- 左侧：头像（可显示状态环）＋问候语（如“晚安，小林”）。
- 右侧：快捷入口按钮（护心周报、隐私设置），使用品牌蓝描边。
- 底部：小标签显示连续打卡天数（Mint Badge）。

### 3.2 护心周报 `<WeeklyReportCard>`
- 卡面 `#FFFFFF` + 阴影 `0 14px 40px rgba(15,20,26,0.08)`。
- 模块划分：
  1. 情绪分布（环形图，情绪色盘）
  2. 行为闭环指标（建议接受率、完成率、T+1 复盘率）
  3. 下一步 Top3（Chip 列表 + 生成任务 CTA）
- CTA：`查看完整周报`（品牌蓝按钮），链接至详情。
- 数据来源：`weekly_summaries`、`daily_reports`。

### 3.3 徽章与成就 `<BadgeCarousel>`
- 水平滑动；徽章背景使用渐变（品牌蓝 / Lavender）。
- 未解锁徽章以 `--color-ink-100` 背景 + 线性图标表示。
- 点击徽章弹出说明模态，包含解锁条件与下一步建议。

### 3.4 隐私与授权中心 `<PrivacyCenter>`
- 卡片分两列：
  - 左列：当前授权（辅导员、树洞守护者等）列表；每项显示范围、有效期。
  - 右列：审计记录快捷入口（Mint 背景）与“撤销授权”按钮。
- 开关组件采用品牌蓝描边，开启态填充 Mint。
- 数据绑定：`consents`、`audit_logs`。

### 3.5 资源地图 `<ResourceGrid>`
- 栅格（2 列）展示：心理中心、辅导员、学生社团、公益热线等。
- 每个 Tile：白底、圆角 20px、图标（线性）、“立即联系”按钮（品牌蓝描边）。
- 支持展开查看详细地址/预约方式，默认匿名。

## 4. 样式片段
```scss
$surface: #FFFFFF;
$shadow-hero: 0 18px 44px rgba(15,20,26,0.1);
$brand: var(--color-brand-500);
$success: var(--color-success-500);

.profile-hero {
  background: linear-gradient(180deg,#EEF5FF 0%,#FFFFFF 100%);
  border-radius: 24px;
  padding: 24px;
  box-shadow: $shadow-hero;
  .greeting { color: var(--color-ink-800); font-size: 18px; font-weight: 700; }
  .streak-badge {
    background: var(--color-success-50);
    color: $success;
    border-radius: 999px;
    padding: 4px 12px;
  }
}
.weekly-report {
  background: $surface;
  border-radius: 24px;
  box-shadow: 0 14px 40px rgba(15,20,26,0.08);
  padding: 24px;
  .cta { background: $brand; color: #FFF; border-radius: 16px; }
}
.privacy-card {
  background: $surface;
  border-radius: 20px;
  box-shadow: 0 12px 32px rgba(15,20,26,0.06);
  padding: 24px;
  .consent-item { border-bottom: 1px solid rgba(58,123,213,0.12); padding: 16px 0; }
}
```

## 5. 交互与状态
- 周报“生成任务”点击后调用行为闭环工作流，并提示写入“日记-清单”。
- 授权项中的“查看详情”展开后显示字段权限；撤销操作需二次确认。
- 资源地图长按弹出“匿名联系/实名预约”选择。
- 夜间模式自动切换问候语（如“夜深了，记得休息”）。

## 6. 响应式 & 主题
| 断点 | 调整 |
| ---- | ------ |
| `<360px` | 徽章滑动区缩减为一行一个，周报图表堆叠 |
| `360-767px` | 默认单列 |
| `≥768px` | 周报与徽章并排，隐私中心与资源地图左右分栏 |

- 晚安模式：背景深色 `#161B22`，卡片 `#1F2730`，文本颜色提升亮度。
- 考试周皮肤：周报 CTA 变为 Mint，徽章加入“备考达人”主题。

## 7. 数据与工作流
| 入口 | 绑定 | 说明 |
| ---- | ---- | ---- |
| 周报卡 | `weekly_summaries` | 展示情绪/行为指标 |
| 下一步建议 | 行为闭环工作流 | 自动写入任务清单 |
| 授权列表 | `consents` | 可撤销、可续期 |
| 审计记录 | `audit_logs` | 展示最近操作 |
| 资源地图 | 静态配置 + 外部链接 | 点击走外链或拨号/SOS |

## 8. 无障碍与验收
- 所有仪表提供文本摘要；
- 按钮对比度 ≥ 4.5:1，Tab 顺序清晰；
- 验收清单：
  1. 周报数据与后台一致，Top3 CTA 可生成任务；
  2. 授权列表状态同步，撤销后立即更新；
  3. 资源地图链接可用，默认匿名提醒；
  4. 夜间/主题切换语义色正确。

---

该规范确保“我的”页兼具温度与掌控感，与周报、行为闭环、隐私工作流一体化运作。
