---
created: 2025-05-14T10:46
updated: 2025-05-14T10:46
---
> æœ¬æ–‡ç”± [ç®€æ‚¦ SimpRead](http://ksria.com/simpread/) è½¬ç ï¼Œ åŸæ–‡åœ°å€ [blog.csdn.net](https://blog.csdn.net/weixin_55944949/article/details/130895608?spm=1001.2014.3001.5501)

#### ç›®å½•

*   [å‰è¨€](#_2)
*   [1. å‡†å¤‡](#1__30)
*   *   [1.1 ä¸‹è½½æºç ](#11__31)
    *   *   [æ–¹å¼ä¸€ï¼š](#_34)
        *   [æ–¹å¼äºŒï¼š](#_52)
    *   [1.2 å®‰è£…ä¾èµ–](#12__69)
    *   [1.3 å®‰è£… Gazebo](#13__Gazebo_89)
*   [2. ç¼–è¯‘](#2__153)
*   [3. é…ç½®ç¯å¢ƒ](#3__165)
*   [4. æµ‹è¯•](#4__205)
*   [å‚è€ƒ](#_232)

å‰è¨€
--

**æœ¬æ•™ç¨‹åŸºäº ROS1** ï¼Œåœ¨æ­å»ºä¹‹å‰ï¼Œå¿…é¡»æŠŠ `ROSã€MAVROSã€QGC` ç­‰åŸºç¡€ç¯å¢ƒå®‰è£…é…ç½®å®Œæˆã€‚å¦‚æœæ²¡æœ‰é…ç½®å®Œæˆï¼Œå¤§å®¶å¯ä»¥å‚è€ƒæˆ‘ä¹‹å‰çš„æ•™ç¨‹é…ç½®ã€‚

> **å°ç™½å¿…çœ‹**ï¼šğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡
> 
> æœ¬æ¬¡å®‰è£…æ˜¯ä»¥ `PX4 v1.13.2` ä¸ºä¾‹ã€‚  
> æˆ‘çš„é…ç½®å¦‚ä¸‹ï¼ˆä»…ä¾›å‚è€ƒï¼‰ï¼š  
> è™šæ‹Ÿæœº `Ubuntu 18.04` (è¿è¡Œå†…å­˜ 4Gã€ç¡¬ç›˜å†…å­˜ 80G) ã€`ROS1 Melodic` ã€`QGC v4.2.6`
> 
> ( **Ubuntu 20.04 ã€ROS1 Noetic ã€PX4 v1.13.2 ï¼›Ubuntu 20.04 ã€ROS1 Noetic ã€PX4 v1.14.0 ä¹ŸåŒæ ·é€‚ç”¨**)
> 
> **1. ç¦æ­¢æ— è„‘å¤åˆ¶**ï¼šé¦–å…ˆå¤§éƒ¨åˆ†å‘½ä»¤éƒ½æœ‰å…ˆåé¡ºåºï¼Œå°±æ˜¯è¦ä¸Šä¸€ä¸ªå‘½ä»¤æ‰§è¡Œæˆä¸‹ä¸€ä¸ªæ‰èƒ½æ‰§è¡ŒæˆåŠŸï¼Œå¯¹äºä¸ç†Ÿæ‚‰çš„å‘½ä»¤å¯ä»¥ç›´æ¥å¤åˆ¶é—®`AI` è¿™æ ·è¿˜èƒ½é¡ºå¸¦å­¦ä¹ å­¦ä¹ ï¼›å…¶æ¬¡åœ¨æœ‰äº›æƒ…å†µä¸‹å¤šä¸ªå‘½ä»¤ä¸€èµ·æ‰§è¡Œä¼šå‡ºç°å¥‡æ€ªçš„é”™è¯¯ï¼Œè€Œä¸”æœ‰äº›å‘½ä»¤æ—è¾¹æœ‰æ³¨é‡Šï¼Œæœ‰æ—¶å€™å¤åˆ¶ä¸Šå»å¯èƒ½ä¹Ÿä¼šå‡ºç°é”™è¯¯ã€‚  
> **2. å»ºè®®ä½¿ç”¨è™šæ‹Ÿæœº**ï¼šè™šæ‹Ÿæœºçš„é…ç½®å¿…é¡»å¤§äºç­‰äºæˆ‘çš„è™šæ‹Ÿæœºé…ç½®ã€‚è™½ç„¶è™šæ‹Ÿæœºå¾—æ€§èƒ½æœ‰é™ï¼Œä½†æ˜¯å¯¹äºæ–°æ‰‹å…¥é—¨é˜¶æ®µæ˜¯å®Œå…¨å¤Ÿç”¨äº†ï¼Œåç»­å¤§å‹ä»¿çœŸå†ç”¨åŒç³»ç»Ÿä¹Ÿæ¯”è¾ƒç†Ÿæ‚‰äº†ã€‚è€Œä¸”è™šæ‹Ÿæœºæœ‰ä¸€ä¸ªå¿«ç…§åŠŸèƒ½ï¼Œå¯ä»¥ä¿å­˜å½“å‰è™šæ‹Ÿæœºçš„çŠ¶æ€ (ç›¸å½“äºå­˜æ¡£)ï¼Œè¿™æ ·å¦‚æœåé¢å‡ºäº†é—®é¢˜è¦é‡æ–°æ­å»ºç¯å¢ƒï¼Œå¯ä»¥ç”¨å¿«ç…§å›åˆ°ä¸Šä¸€ä¸ªçŠ¶æ€ï¼Œè¿™æ ·å°±ä¸ç”¨é‡å¤´å¼€å§‹ï¼ˆæˆ‘ä¸€èˆ¬æ˜¯å®‰è£…å¥½ ROS æ‹ä¸€ä¸ªã€å®‰è£…å¥½ [mavros](https://so.csdn.net/so/search?q=mavros&spm=1001.2101.3001.7020) æ‹ä¸€ä¸ªâ€¦ï¼‰ã€‚  
> **3. å…³äºç½‘ç»œ**ï¼šç”±äºä¸€äº›æ‡‚å¾—éƒ½å¾—çš„åŸå› ï¼Œå†åŠ ä¸Šæ¯ä¸ªäººçš„ç½‘ç»œç¯å¢ƒä¸åŒï¼Œæˆ‘ä»¬ä¸‹è½½ GitHub ä¸Šçš„èµ„æºã€å®‰è£… Python åŒ…ã€apt å®‰è£…åŒ…ç­‰ä¼šæ—¶å¿«æ—¶æ…¢ï¼Œæ‰€ä»¥å¤§å®¶ä¼šæ¢æºï¼Œæ¯”å¦‚ä¸€å¼€å§‹çš„æ¢ apt è½¯ä»¶å®‰è£…æºç­‰ã€‚ä½†æ˜¯ä¸‹è½½èµ„æºä¸€å®šè¦è€å¿ƒï¼Œå¦‚æœæ˜¯ç½‘ç»œé—®é¢˜ï¼Œå¯ä»¥å°è¯•å¤šæ‰§è¡Œå‡ æ¬¡å‘½ä»¤ï¼Œè€Œä¸”æœ‰äº›æˆ‘ä¹Ÿç»™äº†ç›¸åº”çš„è§£å†³æ–¹æ¡ˆã€‚

**åŸºäº ROS1 çš„ PX4 ä»¿çœŸç¯å¢ƒæ­å»ºç³»åˆ—ï¼š** ğŸ‘‡ğŸ‘‡ğŸ‘‡  
å»ºè®®å®‰è£…ä¹‹å‰å¯ä»¥å…ˆçœ‹çœ‹è¿™ä¸ª ğŸ‘‰ [ubuntu æ­å»º PX4 æ— äººæœºä»¿çœŸç¯å¢ƒ (1) â€”â€” æ¦‚å¿µä»‹ç»](https://blog.csdn.net/weixin_55944949/article/details/130848009?spm=1001.2014.3001.5502)

[ubuntu æ­å»º PX4 æ— äººæœºä»¿çœŸç¯å¢ƒ (2) â€”â€” MAVROS å®‰è£…](https://blog.csdn.net/weixin_55944949/article/details/130877689?spm=1001.2014.3001.5502)

[ubuntu æ­å»º PX4 æ— äººæœºä»¿çœŸç¯å¢ƒ (3) â€”â€” ubuntu å®‰è£… QGC åœ°é¢ç«™](https://blog.csdn.net/weixin_55944949/article/details/130895363?spm=1001.2014.3001.5502)

[ubuntu å®‰è£… ROS melodic(æœ€æ–°ã€è¶…è¯¦ç»†å›¾æ–‡æ•™ç¨‹)](https://blog.csdn.net/weixin_55944949/article/details/130468032?spm=1001.2014.3001.5502)

**ROS2 è¯·çœ‹** ğŸ‘‡ğŸ‘‡ğŸ‘‡  
[Ubuntu æ­å»º PX4 æ— äººæœºä»¿çœŸç¯å¢ƒ (5) â€”â€” ä»¿çœŸç¯å¢ƒæ­å»º (ä»¥ Ubuntu 22.04,ROS2 Humble ä¸ºä¾‹)](https://blog.csdn.net/weixin_55944949/article/details/140627640?spm=1001.2014.3001.5502)

å¦‚æœæƒ³è¦è‡ªå·±ç¼–è¯‘ PX4 å›ºä»¶å¯ä»¥çœ‹ [Ubuntu ç¼–è¯‘ PX4 å›ºä»¶](https://blog.csdn.net/weixin_55944949/article/details/140352709?spm=1001.2014.3001.5501) è¿™ç¯‡æ•™ç¨‹

1. å‡†å¤‡
-----

### 1.1 ä¸‹è½½æºç 

#### æ–¹å¼ä¸€ï¼š

ä» Github ä¸Šä¸‹è½½ï¼Œä½†æ˜¯æ¯”è¾ƒè€ƒéªŒä¸ªäººç½‘é€Ÿ

```
sudo apt-get install git

```

```
git clone https://github.com/PX4/PX4-Autopilot.git # ä¸‹è½½æºç 
mv PX4-Autopilot PX4_Firmware  # æ›´æ”¹ç›®å½•å

```

```
cd PX4_Firmware
git checkout -b dev v1.13.2  # åˆ‡æ¢ç‰ˆæœ¬
git submodule update --init --recursive   # æ›´æ–°ä¸‹è½½å­æ¨¡å—
# æ¯”è¾ƒæ…¢ï¼Œä¸è¡Œå°±å¤šæ‰§è¡Œå‡ æ¬¡

```

#### æ–¹å¼äºŒï¼š

ä»æä¾›çš„ç½‘ç›˜é‡Œä¸‹ï¼Œæˆ–è€…ä» QQ ç¾¤ (961297255) é‡Œä¸‹è½½

> é“¾æ¥: https://pan.baidu.com/s/1aCNCW200la-UPX2CPJukXg  
> æå–ç : krb5

ä¸‹è½½åè§£å‹ï¼Œç„¶åæ‰§è¡Œä¸‹é¢å‘½ä»¤ï¼š

```
cd PX4_Firmware
wget https://gitee.com/tyx6/mytools/raw/main/px4/set_executable.sh
chmod +x set_executable.sh
./set_executable.sh

```

![](https://i-blog.csdnimg.cn/blog_migrate/75e66860eee1c72c5c4e97413c8d0f85.png#pic_center)

### 1.2 å®‰è£…ä¾èµ–

```
cd ~/PX4_Firmware/Tools/setup

```

> **ä¿®æ”¹æ–‡ä»¶å¹¶å¤‡ä»½ ï¼ˆå°±ä¿®æ”¹äº†ä¸€ä¸ª python åŒ…ç‰ˆæœ¬å’ŒæŠŠ pip å®‰è£…æºæ¢æˆäº†æ¸…åæºï¼‰ï¼Œè¿™ä¸€æ­¥æ˜¯å¯åšå¯ä¸åšï¼Œå¦‚æœè§‰å¾— python åŒ…ä¸‹è½½å¤ªæ…¢äº†ï¼Œå¯ä»¥è¯•è¯•**
> 
> ```
> sed -i.bak 's/empy>=3.3/empy==3.3.4/' ./requirements.txt
> sed -i.bak 's|\/requirements.txt|\/requirements.txt -i https:\/\/pypi.tuna.tsinghua.edu.cn\/simple|' ./ubuntu.sh
> 
> ```

```
chmod +x ubuntu.sh
./ubuntu.sh --no-nuttx --no-sim-tools
# è¿™æ˜¯å®˜æ–¹æä¾›çš„è„šæœ¬ æœ‰ä¸¤ä¸ªå¯é€‰å‚æ•°
# --no-sim-tools   ä¸å®‰è£…ä»¿çœŸç¯å¢ƒ
# --no-nuttx   ä¸å®‰è£…äº¤å‰ç¼–è¯‘ç¯å¢ƒ
#ï¼ˆå¦‚æœéœ€è¦è‡ªå·±ç¼–è¯‘é£æ§å›ºä»¶ï¼Œçƒ§å½•åˆ°é£æ§ä¸­ï¼Œé‚£å°±éœ€è¦äº¤å‰ç¼–è¯‘ç¯å¢ƒï¼‰
# è„šæœ¬æ‰§è¡Œæ—¶é—´ï¼Œè·Ÿä¸ªäººç½‘ç»œæœ‰å…³ï¼Œå¯èƒ½éœ€è¦ä¸€æ®µæ—¶é—´

```

é‡å¯ Ubuntu

### 1.3 å®‰è£… Gazebo

Gazebo æ˜¯ä¸€æ¬¾å¼ºå¤§çš„ 3D ä»¿çœŸè½¯ä»¶ï¼Œä¸»è¦ç”¨äºæœºå™¨äººå­¦çš„ç ”ç©¶å’Œå¼€å‘ã€‚å®ƒæä¾›äº†é«˜åº¦é€¼çœŸçš„ç‰©ç†æ¨¡æ‹Ÿç¯å¢ƒï¼ŒåŒ…æ‹¬åŠ¨åŠ›å­¦ã€ç¢°æ’æ£€æµ‹ã€ä¼ æ„Ÿå™¨æ¨¡å‹ä»¥åŠä¸çœŸå®ä¸–ç•Œç›¸ä¼¼çš„ç‰©ç†å±æ€§å¦‚é‡åŠ›ã€æ‘©æ“¦åŠ›ç­‰ã€‚Gazebo å¯ä»¥æ¨¡æ‹Ÿå„ç§ç±»å‹çš„æœºå™¨äººï¼Œä»ç§»åŠ¨æœºå™¨äººã€æ— äººæœºåˆ°æœºæ¢°è‡‚ï¼Œç”šè‡³å¯ä»¥æ¨¡æ‹Ÿæ•´ä¸ªåŸå¸‚ç¯å¢ƒã€‚  
**æ³¨ï¼šä½¿ç”¨ä¹‹å‰è¦æ£€æŸ¥æ˜¯å¦å·²ç»å®‰è£…äº† gazebo ï¼Œå»ºè®®ä½¿ç”¨å®˜æ–¹æ¨èçš„ gazebo ç‰ˆæœ¬**

```
gazebo --version

```

![](https://i-blog.csdnimg.cn/blog_migrate/fb11a7e037d6278d714aaa4c747e77f9.png#pic_center)

å¦‚æœå‡ºç° **ä¸Šå›¾å†…å®¹**ï¼Œè¯´æ˜æ²¡æœ‰å®‰è£…ï¼Œç›´æ¥è·³åˆ°å¼€å§‹å®‰è£…è¿™ä¸€æ­¥ã€‚å¦‚æœå‡ºç°äº† **gazebo çš„ç‰ˆæœ¬ä¿¡æ¯** è¯´æ˜å·²ç»å®‰è£…äº†ï¼Œè¦å¸è½½ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š

```
sudo apt-get remove gazebo* 
sudo apt-get remove libgazebo*
sudo apt-get remove ros-$ROS_DISTRO-gazebo*

```

å¼€å§‹å®‰è£… **ï¼ˆUbuntu 18 ä¼šå®‰è£… gazebo 9.19ï¼ŒUbuntu 20 ä¼šå®‰è£… gazebo 11.15.1ï¼‰**

```
cd ~/PX4_Firmware/Tools/setup
./ubuntu.sh --no-nuttx
# è¿™ä¸€æ­¥ä¼šå®‰è£…ä»¿çœŸç¯å¢ƒï¼ŒåŒ…æ‹¬gazebo
# è„šæœ¬æ‰§è¡Œæ—¶é—´ï¼Œè·Ÿä¸ªäººç½‘ç»œæœ‰å…³ï¼Œå¯èƒ½éœ€è¦ä¸€æ®µæ—¶é—´
sudo apt update && sudo apt upgrade
sudo apt-get install ros-$ROS_DISTRO-gazebo-ros-pkgs ros-$ROS_DISTRO-gazebo-ros-control

```

**é‡å¯ Ubuntu** ï¼Œä¹‹åæµ‹è¯•ä¸€ä¸‹ gazebo

```
gazebo --version

```

![](https://i-blog.csdnimg.cn/blog_migrate/b9c09bc2ed63aa0693338078ff03a71a.png#pic_center)

å†è¿è¡Œä¸€ä¸‹ **gazebo** ï¼š

```
gazebo

```

![](https://i-blog.csdnimg.cn/blog_migrate/92abaafbe8211d00872c33e414fa19fd.png#pic_center)

å¦‚æœæ˜¯åœ¨è™šæ‹Ÿæœºä¸Šï¼Œå¯èƒ½å‡ºç°ä¸Šå›¾é”™è¯¯ï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š

```
echo "export SVGA_VGPU10=0" >> ~/.bashrc
source ~/.bashrc

```

å†é‡æ–°è¿è¡Œ gazebo

```
gazebo

```

å‡ºç°ä¸‹å›¾ï¼Œè¡¨ç¤ºè¿è¡ŒæˆåŠŸï¼š  
![](https://i-blog.csdnimg.cn/blog_migrate/5ac0eb8bf2366dbd8dd53182b361682c.png#pic_center)  
**æ³¨ï¼š**  
è¿è¡Œ Gazebo ä»¿çœŸï¼Œå¯èƒ½ä¼šç¼ºæ¨¡å‹ï¼Œè¿™æ—¶ä¼šè‡ªåŠ¨ä¸‹è½½ï¼ŒGazebo æ¨¡å‹æœåŠ¡å™¨åœ¨å›½å¤–ï¼Œè‡ªåŠ¨ä¸‹è½½ä¼šæ¯”è¾ƒä¹…ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥å…ˆä¸‹è½½åˆ°æœ¬åœ°ã€‚

```
git clone https://gitee.com/tyx6/gazebo_models.git
# æ£€æµ‹æ–‡ä»¶å¤¹ ~/.gazebo/models æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœä¸å­˜åœ¨åˆ›å»º
if [ ! -d "~/.gazebo/models" ]; then mkdir -p ~/.gazebo/models ;fi
mv ./gazebo_models/* ~/.gazebo/models/

```

æˆ–è€…ä¹Ÿå¯ä»¥ç”¨ä¸‹é¢æä¾›çš„`ZIP`å‹ç¼©åŒ…ï¼Œå°†è¯¥å‹ç¼©åŒ…é‡Œçš„æ¨¡å‹æ–‡ä»¶æ”¾åœ¨ **~/.gazebo/models/** è·¯å¾„ä¸‹ï¼Œç„¶åå¯ä»¥çœ‹åˆ°å¾ˆå¤šæ¨¡å‹æ–‡ä»¶ã€‚

> å¦‚æœä¸‹è½½æ…¢ï¼Œå¯ä»¥ä»ç½‘ç›˜é‡Œä¸‹ï¼Œæˆ–è€…ä» QQ ç¾¤ (961297255) é‡Œä¸‹è½½  
> é“¾æ¥ï¼šhttps://pan.baidu.com/s/1O3J7nrjU2imyYWRwl9114g  
> æå–ç ï¼šud28

2. ç¼–è¯‘
-----

```
cd ~/PX4_Firmware
make px4_sitl_default gazebo   # è¿™æ­¥å¯èƒ½æœ‰ç‚¹æ…¢ï¼Œè·Ÿ ubuntu çš„é…ç½®æœ‰å…³

```

å‡ºç°ä¸‹å›¾è¡¨ç¤ºç¼–è¯‘æˆåŠŸ ğŸ˜„  
![](https://i-blog.csdnimg.cn/blog_migrate/a7affb86d0d347e72744f930296224c6.png#pic_center)  
**æ³¨ï¼šå¦‚æœè¿è¡Œåç»ˆç«¯æœ‰ä¸‹å›¾æŠ¥é”™ï¼Œè¿™ä¸ªä¸å½±å“ä»¿çœŸï¼Œä¸ç”¨ç®¡ä¹Ÿè¡Œã€‚è¿™æ˜¯å› ä¸º gazebo ä¼šæ£€æŸ¥ models æ–‡ä»¶å¤¹ä¸‹æ˜¯å¦æœ‰ model.config æ–‡ä»¶ï¼Œä½†æ˜¯ .git æ–‡ä»¶å¤¹ä¸å±äº model æ–‡ä»¶ï¼Œé‚£è‡ªç„¶ä¹Ÿä¸ä¼šæœ‰ model.config æ–‡ä»¶ã€‚å¦‚æœè§‰å¾—éš¾å—å°±ä»å…¶ä»– model.config æ–‡ä»¶å¤åˆ¶ä¿®æ”¹ä¸€ä¸ªè¿‡æ¥ï¼Œæˆ–è€…åˆ æ‰ .git æ–‡ä»¶å¤¹ã€‚**  
![](https://i-blog.csdnimg.cn/blog_migrate/803a09adb662e0fddb2104b098a4c849.png#pic_center)

3. é…ç½®ç¯å¢ƒ
-------

**å°†ä¸‹é¢è¯­å¥ç²˜è´´åˆ° ~/.bashrc (æ­¤æ–‡ä»¶åœ¨ä¸»ç›®å½•ä¸‹ï¼Œæ˜¯ä¸ªéšè—æ–‡ä»¶) æ–‡ä»¶æœ«å°¾ï¼ˆå‰ä¸¤ä¸ª source é¡ºåºä¸èƒ½é¢ å€’ï¼Œè·¯å¾„è¦æ ¹æ®è‡ªå·±çš„å®é™…è·¯å¾„ä¿®æ”¹ï¼Œå¦‚æœä¸€ç›´æŒ‰ç…§æˆ‘çš„æ­¥éª¤æ¥ï¼Œåº”è¯¥æ˜¯ä¸ç”¨ä¿®æ”¹ï¼‰**

```
gedit ~/.bashrc  # æ‰“å¼€æ–‡ä»¶

```

å¯¹äº PX4 v1.13 åŠä¹‹å‰çš„

```
source ~/catkin_ws/devel/setup.bash  # å¯é€‰
source ~/PX4_Firmware/Tools/setup_gazebo.bash ~/PX4_Firmware/ ~/PX4_Firmware/build/px4_sitl_default
export ROS_PACKAGE_PATH=$ROS_PACKAGE_PATH:~/PX4_Firmware
export ROS_PACKAGE_PATH=$ROS_PACKAGE_PATH:~/PX4_Firmware/Tools/sitl_gazebo

```

å¯¹äº PX4 v1.14

```
source ~/catkin_ws/devel/setup.bash  # å¯é€‰
source ~/PX4_Firmware/Tools/simulation/gazebo-classic/setup_gazebo.bash ~/PX4_Firmware/ ~/PX4_Firmware/build/px4_sitl_default
export ROS_PACKAGE_PATH=$ROS_PACKAGE_PATH:~/PX4_Firmware/
export ROS_PACKAGE_PATH=$ROS_PACKAGE_PATH:~/PX4_Firmware/Tools/simulation/gazebo-classic/sitl_gazebo-classic

```

> **æ³¨ï¼š ä¸ºäº†æ–¹ä¾¿å¤§å®¶ï¼Œæˆ‘åšäº†ä¸€ä¸ªè‡ªåŠ¨æ·»åŠ ç¯å¢ƒçš„è„šæœ¬ï¼Œæ•ˆæœä¸æ‰‹åŠ¨æ·»åŠ ç­‰åŒï¼Œåªè¦æœ‰ä¸€ä¸ªæˆåŠŸå°±è¡Œã€‚æ‰§è¡Œè„šæœ¬ä¹‹å‰è¦ç¡®è®¤ä¹‹å‰æ²¡åœ¨ .bashrc æ–‡ä»¶ä¸­åŠ å…¥ç¯å¢ƒï¼Œæœ‰çš„è¯åˆ æ‰æˆ–è€…æ³¨é‡Šï¼Œç¯å¢ƒé‡å¤ä¹Ÿä¼šå¯¼è‡´é…ç½®å¤±è´¥**  
> **é¦–å…ˆä¸‹è½½è„šæœ¬ï¼Œç„¶åå°†è„šæœ¬æ”¾å…¥ä½ çš„ PX4 æºç ç›®å½•ä¸‹ï¼Œå†æ‰§è¡Œï¼ˆä»¥æˆ‘çš„ä¸ºä¾‹ï¼‰ï¼š**
> 
> ```
> cd ~/PX4_Firmware
> wget https://gitee.com/tyx6/mytools/raw/main/px4/setenv.sh
> chmod +x setenv.sh  # æ·»åŠ å¯æ‰§è¡Œæƒé™
> ./setenv.sh
> 
> ```

*   æ›´æ–°ç¯å¢ƒï¼ˆ **æœ€å¥½é‡å¯ä¸€ä¸‹ Ubuntu** ï¼‰ï¼š

```
source ~/.bashrc 

```

å…³æ‰ç»ˆç«¯ï¼Œå†æ¬¡æ‰“å¼€ï¼Œä¼šè·Ÿä¸‹å›¾å·®ä¸å¤šï¼š ï¼ˆè¿™æ˜¯ PX4 v1.13.2ï¼‰  
![](https://i-blog.csdnimg.cn/blog_migrate/490ac168c05ab8d6d2981e1b315d78bd.png#pic_center)

4. æµ‹è¯•
-----

åœ¨ç»ˆç«¯è¾“å…¥ä¸‹é¢å‘½ä»¤ï¼š

```
roslaunch px4 mavros_posix_sitl.launch

```

![](https://i-blog.csdnimg.cn/blog_migrate/15aa6ffb4bb601ddd3701ac09328f7c7.png#pic_center)

æ‰“å¼€å¦ä¸€ä¸ªç»ˆç«¯ï¼Œè¿è¡Œä¸‹é¢å‘½ä»¤ï¼ŒæŸ¥çœ‹ MAVROS ä¸ä»¿çœŸæ— äººæœºé€šä¿¡çŠ¶å†µã€‚**è‹¥ connected: Trueï¼Œåˆ™é€šä¿¡æˆåŠŸï¼Œå¦‚æœæ˜¯ falseï¼Œä¸€èˆ¬æ˜¯å› ä¸º .bashrc é‡Œçš„è·¯å¾„å†™çš„ä¸å¯¹ï¼Œè¯·ä»”ç»†æ£€æŸ¥ã€‚**

```
rostopic echo /mavros/state | grep connected    # åªæŸ¥çœ‹ connected ä¿¡æ¯
# rostopic echo /mavros/state                     # æŸ¥çœ‹å…¨éƒ¨ä¿¡æ¯

```

![](https://i-blog.csdnimg.cn/blog_migrate/58b2cbe9b4a3d0b95f8e096031fad42a.png#pic_center)

**åˆ°è¿™ PX4 æ— äººæœºåŸºæœ¬ä»¿çœŸç¯å¢ƒå°±æ­å»ºå®Œæˆäº†ï¼Œå¤§å®¶å¯ä»¥åŸºäºæ­¤æ¥æ‹“å±•è‡ªå·±çš„ä»¿çœŸã€‚  
ä¹Ÿå¯ä»¥ç»§ç»­çœ‹ä¸‹é¢æ•™ç¨‹** ğŸ‘‡

[å¸¦ä½ ç©è½¬ PX4 æ— äººæœºä»¿çœŸ (1) â€”â€” è¿è¡Œå®˜æ–¹æ¡ˆä¾‹ï¼ˆC++ï¼‰](https://blog.csdn.net/weixin_55944949/article/details/132570487?spm=1001.2014.3001.5501)

**å»ºäº†ä¸ªäº¤æµç¾¤ï¼Œæ–¹ä¾¿å¤§å®¶äº¤æµå­¦ä¹ ** ğŸ˜  
![](https://i-blog.csdnimg.cn/blog_migrate/dbd07a97ad391accf2fc4b9007e9dc51.jpeg#pic_center)

> å¦‚æœ‰å…¶ä»–é—®é¢˜ï¼Œæˆ–è€…å‘ç°æ–‡ç« æœ‰é”™è¯¯ï¼Œè¯·åœ¨è¯„è®ºåŒºç•™è¨€  
> Keep learningï¼

å‚è€ƒ
--

[ä»¿çœŸå¹³å°åŸºç¡€é…ç½®ï¼ˆå¯¹åº” PX4 1.13 ç‰ˆï¼‰](https://www.yuque.com/xtdrone/manual_cn/basic_config_13)

[PX4 documentation](https://docs.px4.io/main/zh/getting_started/px4_basic_concepts.html)