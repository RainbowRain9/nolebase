# 微信社区商场小程序

## 项目概述

微信社区商场小程序是一个集教务管理、校园论坛、商城购物、生活服务于一体的综合性校园服务平台。项目旨在为师生提供便捷的校园生活服务，打造活跃的校园社区，建立完善的校园商业生态。

## 项目特色

- 🎓 **教务系统**: 课程表查询、成绩查询、考试安排、学籍管理等
- 💬 **校园论坛**: 帖子发布、互动评论、版块管理、热帖排行
- 🛒 **商城系统**: 商品浏览、购物车、订单管理、在线支付
- 🎯 **校园活动**: 活动发布、在线报名、活动提醒
- 🗺️ **生活服务**: 校园地图、新闻推送、通知公告
- 👤 **个人中心**: 用户信息、消息中心、设置管理

## 技术架构

### 前端技术栈
- **框架**: 微信小程序原生框架
- **UI组件**: WeUI + 自定义组件
- **状态管理**: 小程序原生 globalData + 本地存储
- **网络请求**: 封装 wx.request
- **工具库**: Day.js、Lodash

### 后端技术栈
- **服务器**: Node.js + Express.js
- **数据库**: MySQL 8.0 + Redis
- **文件存储**: 腾讯云COS
- **搜索引擎**: Elasticsearch
- **消息队列**: Redis + Bull Queue

### 第三方服务
- **微信服务**: 微信登录、微信支付、分享API
- **云服务**: 腾讯云服务器、数据库、存储、CDN
- **地图服务**: 腾讯地图API
- **短信服务**: 腾讯云短信

## 项目结构

```
微信社区商场/
├── miniprogram/              # 小程序前端代码
│   ├── pages/               # 页面文件
│   ├── components/          # 组件文件
│   ├── utils/               # 工具函数
│   ├── styles/              # 样式文件
│   └── app.js               # 小程序入口
├── server/                  # 后端服务代码
│   ├── src/                 # 源代码
│   ├── config/              # 配置文件
│   ├── middleware/          # 中间件
│   ├── routes/              # 路由文件
│   └── models/              # 数据模型
├── docs/                    # 项目文档
│   ├── api/                 # API文档
│   ├── database/            # 数据库文档
│   └── deployment/          # 部署文档
├── scripts/                 # 脚本文件
├── tests/                   # 测试文件
└── docker/                  # Docker配置
```

## 核心功能模块

### 1. 用户认证系统
- **微信登录**: 支持微信小程序授权登录
- **手机号登录**: 支持手机号验证码登录
- **权限管理**: 学生、教师、管理员、商家角色权限控制
- **安全保障**: JWT Token认证，数据加密传输

### 2. 教务系统模块
- **课程表查询**: 支持班级/学号查询，按学期、日期、星期筛选
- **成绩查询**: 平时、期中、期末成绩，绩点排名统计
- **教师课表**: 按学院查看教师课程安排和答疑时间
- **考试安排**: 考试科目、时间、地点、座位号查询
- **学籍管理**: 个人学籍信息查看和管理
- **校历查询**: 学期安排、节假日、重要活动日历
- **教室借用**: 空闲教室查询和在线申请
- **校通讯录**: 学校各部门联系方式查询
- **综合测评**: 各学期综测成绩查看

### 3. 校园论坛模块
- **帖子管理**: 支持匿名/实名发布，文字、图片、视频内容
- **版块分类**: 学习交流、二手闲置、兴趣部落、失物招领等
- **互动功能**: 评论、点赞、收藏、分享、回复
- **搜索功能**: 全文搜索帖子、用户、版块
- **热帖排行**: 每周热帖统计和特效展示
- **管理功能**: 帖子置顶、删除、举报处理
- **个人中心**: 发布历史、互动记录、收藏管理

### 4. 商城系统模块
- **商品管理**: 多分类商品展示，搜索筛选排序
- **购物流程**: 购物车管理，订单创建，在线支付
- **订单管理**: 订单状态跟踪，售后申请处理
- **支付系统**: 微信支付集成，交易安全保障
- **评价系统**: 商品评价，图片上传，真实性验证
- **二手交易**: 闲置物品发布，手续费管理
- **商家入驻**: 商家认证，店铺管理，销售数据
- **促销活动**: 优惠券、满减、限时折扣
- **区域管理**: 按区域管理商品和统计销售

### 5. 校园活动模块
- **活动发布**: 社团、学生会活动信息发布
- **在线报名**: 报名表单填写，材料上传
- **活动提醒**: 自动提醒，多次通知
- **报名管理**: 人数统计，自动截止

### 6. 生活服务模块
- **校园地图**: 详细地图，地点搜索，路线规划
- **新闻推送**: 学校新闻，分类浏览，收藏分享
- **通知公告**: 官方通知，提醒设置

### 7. 系统功能模块
- **消息中心**: 统一消息管理，分类推送
- **个人设置**: 信息修改，隐私设置，通知偏好
- **反馈帮助**: 用户反馈，常见问题，使用帮助

## 性能特性

- **高并发支持**: 支持日活2-3万用户同时在线
- **快速响应**: 页面加载时间不超过3秒
- **数据安全**: SSL加密传输，敏感数据加密存储
- **缓存优化**: Redis缓存热点数据，提升访问速度
- **CDN加速**: 静态资源CDN分发，全国加速
- **监控告警**: 实时系统监控，异常自动告警

## 安全保障

- **数据加密**: AES加密敏感数据，bcrypt密码哈希
- **访问控制**: API限流，权限验证，白名单机制
- **支付安全**: 微信支付官方接口，交易数据加密
- **内容审核**: 自动+人工审核，违规内容过滤
- **隐私保护**: 用户隐私政策，数据使用透明

## 部署架构

- **容器化部署**: Docker容器化，Docker Compose编排
- **负载均衡**: 腾讯云CLB负载均衡器
- **数据库集群**: MySQL主从复制，读写分离
- **缓存集群**: Redis集群，高可用配置
- **监控系统**: Prometheus + Grafana监控告警
- **CI/CD**: GitLab CI自动化部署流水线

## 开发规范

### 代码规范
- **前端**: ESLint + Prettier代码格式化
- **后端**: Node.js最佳实践，模块化开发
- **数据库**: 规范化设计，索引优化
- **API**: RESTful设计，统一响应格式

### 测试要求
- **单元测试**: 代码覆盖率80%以上
- **集成测试**: API接口完整测试
- **性能测试**: 并发压力测试
- **安全测试**: 漏洞扫描，渗透测试

### 版本管理
- **Git工作流**: main/develop/feature分支模式
- **版本号**: 语义化版本控制 (SemVer)
- **代码审查**: Pull Request代码审查机制

## 快速开始

### 环境要求
- Node.js 16+
- MySQL 8.0+
- Redis 6.0+
- 微信开发者工具

### 安装步骤
1. 克隆项目代码
2. 安装依赖包
3. 配置数据库连接
4. 启动后端服务
5. 导入小程序项目
6. 配置小程序参数

### 开发调试
1. 启动本地开发服务器
2. 打开微信开发者工具
3. 导入小程序项目
4. 开始开发调试

## 文档链接

- [需求分析整理](./需求分析整理.md) - 详细的功能需求分析
- [技术开发方案](./技术开发方案.md) - 完整的技术实现方案
- [API接口文档](./docs/api/) - 后端API接口说明
- [数据库设计](./docs/database/) - 数据库结构设计
- [部署运维指南](./docs/deployment/) - 部署和运维文档

## 项目状态

当前项目处于需求分析和技术方案设计阶段，已完成：

✅ 需求分析和整理  
✅ 技术架构设计  
✅ 数据库设计方案  
✅ 开发计划制定  
✅ 风险评估分析  

下一步计划：
🔄 项目初始化和环境搭建  
⏳ 用户认证系统开发  
⏳ 教务系统核心功能开发  
⏳ 商城基础功能开发  

## 贡献指南

欢迎参与项目开发，请遵循以下规范：

1. Fork项目到个人仓库
2. 创建功能分支进行开发
3. 遵循代码规范和测试要求
4. 提交Pull Request进行代码审查
5. 合并到主分支

## 联系方式

- 项目负责人：[项目经理]
- 技术负责人：[技术总监]
- 开发团队：[开发团队]

## 许可证

本项目采用 MIT 许可证，详见 [LICENSE](./LICENSE) 文件。

---

*最后更新时间：2025年5月*
