# 页面：任务详情（路径：miniprogram/packages/tasks/task-detail/index）

## 1. 页面目标与角色
- 展示并编辑单个任务的步骤、提醒、回执与复盘；主流程：任务/今天。

## 2. 入口与去向（导航）
- 入口：pages/tasks/index 点击任务；今天页建议卡一键生成后跳转。
- 去向：action-feedback（若来自行动卡）、report-detail（复盘影响周报）。
- 路由：`wx.navigateTo({ url: '/packages/tasks/task-detail/index?taskId=xxx' })`
- 分包：packages/tasks；未显式预加载（tasks Tab 预加载 profile）。

## 3. 关键组件与交互
- 组件：步骤列表、状态切换（开始/完成/跳过/延期）、提醒设置、复盘抽屉。
- 交互：番茄计时（可选）；完成后回执评分；回滚失败提示。

## 4. 数据契约与接口
- 入参：`taskId`
- 集合：docs/数据库/集合-任务.tasks.md
- 接口：docs/接口占位文档.md

## 5. 埋点与观测
- `pv_task_detail`
- `task_status_update`（status）
- `task_review_submit`

## 6. 异常与边界
- 乐观更新失败回滚提示；弱网离线队列。
- 性能：长步骤列表虚拟化；图片懒加载。

## 7. 验收清单（DoD）
- [ ] 状态流转与提醒
- [ ] 复盘提交/回滚
- [ ] 埋点齐全

## 8. 关联文档
- 功能：docs/功能文档/功能-清单任务管理.md、docs/功能文档/功能-任务卡执行闭环.md

## 9. 变更记录
- 2025-09-22 by Codex：首次创建

