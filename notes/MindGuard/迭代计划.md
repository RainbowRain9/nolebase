# MindGuard 《迭代计划》

> 本计划基于以下资料编制与对齐：docs/功能文档/*.md、docs/页面文档/*.md、docs/项目计划/工作分解结构WBS.md、docs/项目计划/任务清单-看板.md、docs/项目计划/总计划-里程碑与时间线.md、docs/项目计划/质量门禁与验收标准.md、docs/项目计划/风险清单与应对.md。

## 1. 迭代周期与版本策略

### 1.1 迭代周期定义
- **迭代长度**：2周（14天）为1个迭代周期
- **迭代时间**：每周一开始，周日结束
- **版本策略**：语义化版本（major.minor.patch）
- **里程碑对应**：4个迭代对应1个里程碑

### 1.2 版本号分配规则
- **Alpha 内测**：0.1.x ~ 0.2.x（x为补丁版本）
- **Beta 公测**：0.3.x ~ 0.4.x
- **正式版发布**：1.0.0
- **功能扩展**：1.1.x ~ 1.2.x

## 2. 核心迭代表格

| 迭代编号 | 时间范围 | 版本号 | 交付物 | 验收标准 | 风险 |
| --- | --- | --- | --- | --- | --- |
| **S1** | 2025-10-01 ~ 2025-10-14 | 0.1.0 | **功能**：情绪打卡闭环初版、任务卡执行闭环（轻量）<br>**页面**：`pages/today`、`pages/tasks`<br>**接口**：`/api/moods/today`、`/api/checkins`、`/api/tasks`<br>**数据库**：`users`、`checkins`、`tasks` | - 主包可运行<br>- 今天页情绪打卡→任务闭环 Demo<br>- 集合读写验收<br>- 基础埋点通过 | ⚠️ 风险1.2 接口延迟<br>⚠️ 风险1.6 数据一致性<br>⚠️ 风险1.8 埋点缺失 |
| **S2** | 2025-10-15 ~ 2025-10-28 | 0.1.1 | **功能**：心情随笔基础版、护心周报基础卡<br>**页面**：`pages/journal`、`pages/mine`<br>**接口**：`/api/journals`、`/api/micro-tips`<br>**数据库**：`journals`、`suggestions` | - 今天/任务/随笔三大核心流程真机可用<br>- 分包 journal 加载成功<br>- 联调缺陷关闭率≥95%<br>- 埋点漏斗跑通 | ⚠️ 风险1.7 分包路由错配<br>⚠️ 风险1.4 性能与包体 |
| **S3** | 2025-10-29 ~ 2025-11-11 | 0.2.0 | **功能**：树洞发帖与风险提示（L1-L2）<br>**页面**：`packages/community/posts`、`packages/community/topics`<br>**接口**：`/api/treehole/posts`、`/api/treehole/topics`<br>**数据库**：`posts`、`topics` | - 树洞基础功能可用<br>- 风险提示功能生效<br>- 分包 community 加载成功<br>- 内容审核流程就绪 | ⚠️ 风险1.3 审核被拒<br>⚠️ 风险1.5 隐私合规 |
| **S4** | 2025-11-12 ~ 2025-11-25 | 0.2.1 | **功能**：SOS独立分包基础、行动卡领取<br>**页面**：`independent/sos`、`packages/tasks/task-detail`<br>**接口**：`/api/actions`、`/api/sos`<br>**数据库**：`sos_events`、`actions` | - SOS独立分包稳定运行<br>- 行动卡同步机制正常<br>- 任务详情页可用<br>- 风控演练通过 | ⚠️ 风险1.3 审核被拒<br>⚠️ 风险1.6 数据一致性 |
| **S5** | 2025-11-26 ~ 2025-12-09 | 0.3.0 | **功能**：晚安模式、徽章体系<br>**页面**：`packages/community/*`完整、`packages/profile/badges`<br>**接口**：`/api/notifications`、`/api/badges`<br>**数据库**：`notifications`、`badges` | - 社区主流程完整<br>- 通知系统正常<br>- 性能与包体预算达标<br>- 埋点漏斗验证 | ⚠️ 风险1.4 性能与包体<br>⚠️ 风险1.8 埋点缺失 |
| **S6** | 2025-12-10 ~ 2025-12-23 | 0.3.1 | **功能**：护心周报详情、隐私中心<br>**页面**：`packages/profile/reports`、`packages/profile/privacy`<br>**接口**：`/api/reports`、`/api/privacy`<br>**数据库**：`reports`、`consents` | - 周报生成与导出正常<br>- 隐私授权中心可用<br>- 审核资料初稿完成<br>- 风控演练记录通过 | ⚠️ 风险1.5 隐私合规<br>⚠️ 风险1.3 审核被拒 |
| **S7** | 2025-12-24 ~ 2026-01-06 | 0.4.0 | **功能**：资源地图、客服系统<br>**页面**：`packages/profile/resources`、`packages/community/support`<br>**接口**：`/api/resources`、`/api/support`<br>**数据库**：`resources`、`support_logs` | - 资源地图功能完整<br>- 客服系统可用<br>- Beta公测全量功能完成<br>- 性能基线达标 | ⚠️ 风险1.4 性能与包体<br>⚠️ 风险1.2 接口延迟 |
| **S8** | 2026-01-07 ~ 2026-01-20 | 1.0.0 | **功能**：正式版全量功能、异常处理与容错<br>**页面**：全量页面上线标准<br>**接口**：接口契约冻结<br>**数据库**：索引巡检与迁移 | - E2E主流程通过<br>- CI绿色（lint/单测/E2E）<br>- 审核资料齐套<br>- 发布与回滚演练完成 | ⚠️ 风险1.3 审核被拒<br>⚠️ 风险1.6 数据一致性 |
| **S9** | 2026-01-21 ~ 2026-02-03 | 1.1.0 | **功能**：学校协同系统<br>**页面**：`packages/profile/school-cooperation`<br>**接口**：学校协同相关接口<br>**数据库**：`school_cooperation` | - 学校绑定功能<br>- 协同工作台<br>- 人工转介流程<br>- 合规验证通过 | ⚠️ 风险1.5 隐私合规 |
| **S10** | 2026-02-04 ~ 2026-02-17 | 1.1.1 | **功能**：专题工具箱（呼吸/正念）<br>**页面**：`packages/breath/*`、`packages/mindfulness/*`<br>**接口**：工具箱相关接口<br>**数据库**：`tools` | - 呼吸工具完成<br>- 正念工具完成<br>- 任务回执功能<br>- 弱网测试通过 | ⚠️ 风险1.4 性能与包体 |
| **S11** | 2026-02-18 ~ 2026-03-03 | 1.1.2 | **功能**：Ask心理助理增强<br>**页面**：`packages/ask/*`<br>**接口**：Ask相关接口增强<br>**数据库**：`ask_sessions` | - REBT/CBT深化<br>- 随笔一键提取<br>- 建议编排闭环<br>- 用户反馈良好 | ⚠️ 风险1.8 埋点缺失 |
| **S12** | 2026-03-04 ~ 2026-03-17 | 1.2.0 | **功能**：个性化资源推送、社区话题与活动<br>**页面**：资源推送区、社区扩展页<br>**接口**：推送相关接口<br>**数据库**：`recommendations` | - 个性化推送功能<br>- 社区话题聚合<br>- 活动广场<br>- 数据看板拓展 | ⚠️ 风险1.8 埋点缺失<br>⚠️ 风险1.6 数据一致性 |

## 3. 里程碑与迭代对应关系

| 里程碑 | 对应迭代 | 关键目标 |
| --- | --- | --- |
| **Alpha 内测** | S1-S4 | 情绪打卡→任务闭环、心情随笔、树洞基础、SOS基础 |
| **Beta 公测** | S5-S7 | 社区完整、隐私中心、资源地图、客服系统 |
| **正式版发布** | S8 | 全量功能稳定、异常处理、容错机制、发布就绪 |
| **功能扩展** | S9-S12 | 学校协同、专题工具箱、Ask增强、个性化推送 |

## 4. 依赖关系与风险缓冲

### 4.1 关键依赖关系
- **S1→S2**：情绪打卡数据模型需在S1完成，为心情随笔提供情绪趋势基础
- **S3→S4**：树洞基础功能完成后，行动卡领取才能完整实现
- **S5→S6**：通知系统完成后，周报推送和隐私通知才能正常工作
- **S7→S8**：所有Beta功能完成后，才能进行正式版的完整测试和发布

### 4.2 风险缓冲措施
- **接口延迟风险**：每个迭代预留3天缓冲期，用于接口联调和性能优化
- **审核被拒风险**：S6完成审核资料初稿，S7预留2周用于整改和补充
- **性能与包体风险**：每个迭代都有性能检查点，超标立即执行资源拆分
- **数据一致性风险**：关键数据集合在每次迭代后进行数据对账和补偿

## 5. 验收标准明细

### 5.1 代码质量验收
- ESLint/Preitter检查通过，无警告和错误
- 单元测试覆盖率≥80%，关键模块≥70%
- E2E主流程测试100%通过

### 5.2 性能验收
- 主包体积≤2MB，分包体积≤2MB
- 首屏TTI≤1.5s，白屏率<2%
- 接口P95响应时间≤1.5s，错误率≤1%

### 5.3 功能验收
- 按照WBS和功能文档完成所有功能点
- 页面路由与分包规划100%一致
- 埋点事件完整上报，漏斗转化率正常

### 5.4 安全验收
- 隐私协议和授权中心功能完整
- 敏感数据脱敏和访问控制正确
- 审计日志留存≥12个月

### 5.5 发布验收
- 审核资料完整齐套
- 回滚预案演练通过
- 48小时值班计划和监控就绪

## 6. 迭代管理流程

### 6.1 迭代计划（迭代开始前3天）
- PMO组织迭代计划会议
- 确认迭代目标和交付物
- 分配任务和责任人
- 识别风险和依赖关系

### 6.2 迭代执行（2周）
- 每日站会跟踪进度
- 每周风险检查点
- 中期检查（第7天）
- 迭代演示（第13天）

### 6.3 迭代回顾（迭代结束后1天）
- 总结成功经验和改进点
- 更新风险清单和应对策略
- 归档迭代文档和交付物
- 准备下一迭代计划

## 7. 版本与变更记录

| 版本 | 变更日期 | 变更内容 | 变更原因 | 影响范围 |
| --- | --- | --- | --- | --- |
| v1.0.0 | 2025-09-22 | 初始版本，基于项目计划文档创建迭代计划框架 | 项目启动，建立迭代管理体系 | 全体迭代 |
| v1.0.1 | 2025-09-22 | 补充风险缓冲措施和验收标准明细 | 增强计划的可执行性和风险控制 | 风险管理和质量控制 |
| v1.1.0 | 2025-09-22 | 添加迭代管理流程和版本记录章节 | 规范迭代管理流程 | 迭代管理 |

---

**文档维护**：PMO负责维护，每迭代结束后更新一次
**审批流程**：Tech Lead → PO → PMO
**生效日期**：2025-09-22